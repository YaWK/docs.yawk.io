<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>YaWK: YAWK\user Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="new_stylesheet.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Abel&family=Roboto+Serif:wght@300&display=swap" rel="stylesheet">
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">YaWK
   &#160;<span id="projectnumber">23.3</span>
   </div>
   <div id="projectbrief">Yet another WebKit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classYAWK_1_1user.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classYAWK_1_1user-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">YAWK\user Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The default user class. Provide all functions to handle the user object.  
 <a href="classYAWK_1_1user.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a33317f6e2ba4b65870f744fbbba4d7f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a33317f6e2ba4b65870f744fbbba4d7f8">__construct</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>)</td></tr>
<tr class="memdesc:a33317f6e2ba4b65870f744fbbba4d7f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">user constructor.  <a href="classYAWK_1_1user.html#a33317f6e2ba4b65870f744fbbba4d7f8">More...</a><br /></td></tr>
<tr class="separator:a33317f6e2ba4b65870f744fbbba4d7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3f19d62e9c023ca62ca2779a1e961f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ada3f19d62e9c023ca62ca2779a1e961f">getUserArray</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>)</td></tr>
<tr class="memdesc:ada3f19d62e9c023ca62ca2779a1e961f"><td class="mdescLeft">&#160;</td><td class="mdescRight">return user data as an array  <a href="classYAWK_1_1user.html#ada3f19d62e9c023ca62ca2779a1e961f">More...</a><br /></td></tr>
<tr class="separator:ada3f19d62e9c023ca62ca2779a1e961f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a961bd6e63404501a3aeeb5a364a2cadc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a961bd6e63404501a3aeeb5a364a2cadc">isAllowedToOverrideTemplate</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $uid)</td></tr>
<tr class="memdesc:a961bd6e63404501a3aeeb5a364a2cadc"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if user ID is allowed to override template  <a href="classYAWK_1_1user.html#a961bd6e63404501a3aeeb5a364a2cadc">More...</a><br /></td></tr>
<tr class="separator:a961bd6e63404501a3aeeb5a364a2cadc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8941c746602aee0b2f0a96cc96c6dd0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a8941c746602aee0b2f0a96cc96c6dd0a">isTemplateEqual</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $userTemplateID)</td></tr>
<tr class="memdesc:a8941c746602aee0b2f0a96cc96c6dd0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if user template equals selected (active) template  <a href="classYAWK_1_1user.html#a8941c746602aee0b2f0a96cc96c6dd0a">More...</a><br /></td></tr>
<tr class="separator:a8941c746602aee0b2f0a96cc96c6dd0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31fddb85dfd3a641dc793757c06f4dcd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a31fddb85dfd3a641dc793757c06f4dcd">setUserTemplate</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $<a class="el" href="template-manage_8php.html#ab3d180da9b00fe02cd94cfa106672d8d">overrideTemplate</a>, $userTemplateID, $uid)</td></tr>
<tr class="memdesc:a31fddb85dfd3a641dc793757c06f4dcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">set status and override template for this user ID  <a href="classYAWK_1_1user.html#a31fddb85dfd3a641dc793757c06f4dcd">More...</a><br /></td></tr>
<tr class="separator:a31fddb85dfd3a641dc793757c06f4dcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad58815de49927f3bcb46ee458c1b60ca"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ad58815de49927f3bcb46ee458c1b60ca">ajaxLogin</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $<a class="el" href="classYAWK_1_1user.html">user</a>, $password)</td></tr>
<tr class="separator:ad58815de49927f3bcb46ee458c1b60ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb46ed1168580b6cdf7ff9e4fbecb8e7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#afb46ed1168580b6cdf7ff9e4fbecb8e7">checkResetToken</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $token)</td></tr>
<tr class="memdesc:afb46ed1168580b6cdf7ff9e4fbecb8e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if password reset token matches and return uid.  <a href="classYAWK_1_1user.html#afb46ed1168580b6cdf7ff9e4fbecb8e7">More...</a><br /></td></tr>
<tr class="separator:afb46ed1168580b6cdf7ff9e4fbecb8e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c2a63d3a156de6ddbf1ead9f3d2643"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a58c2a63d3a156de6ddbf1ead9f3d2643">countUsers</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>)</td></tr>
<tr class="memdesc:a58c2a63d3a156de6ddbf1ead9f3d2643"><td class="mdescLeft">&#160;</td><td class="mdescRight">count and return all users  <a href="classYAWK_1_1user.html#a58c2a63d3a156de6ddbf1ead9f3d2643">More...</a><br /></td></tr>
<tr class="separator:a58c2a63d3a156de6ddbf1ead9f3d2643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a372579f711415cfaebf4922413057718"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a372579f711415cfaebf4922413057718">drawLoginBox</a> ($username, $password)</td></tr>
<tr class="memdesc:a372579f711415cfaebf4922413057718"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the html for a default login box  <a href="classYAWK_1_1user.html#a372579f711415cfaebf4922413057718">More...</a><br /></td></tr>
<tr class="separator:a372579f711415cfaebf4922413057718"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae41f50b85d5aad96aed857fca49b34ac"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ae41f50b85d5aad96aed857fca49b34ac">drawMenuLoginBox</a> ($username, $password, $style)</td></tr>
<tr class="memdesc:ae41f50b85d5aad96aed857fca49b34ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">return the html for a menu login box  <a href="classYAWK_1_1user.html#ae41f50b85d5aad96aed857fca49b34ac">More...</a><br /></td></tr>
<tr class="separator:ae41f50b85d5aad96aed857fca49b34ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75d2ec831c67a01e938c9d64562043a7"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a75d2ec831c67a01e938c9d64562043a7">drawPasswordResetForm</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $lang, $uid)</td></tr>
<tr class="memdesc:a75d2ec831c67a01e938c9d64562043a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Draw the form where users can reset their password.  <a href="classYAWK_1_1user.html#a75d2ec831c67a01e938c9d64562043a7">More...</a><br /></td></tr>
<tr class="separator:a75d2ec831c67a01e938c9d64562043a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1a4f6a2abf755f29101592f4298e24"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#abf1a4f6a2abf755f29101592f4298e24">getCurrentUserName</a> ($lang)</td></tr>
<tr class="memdesc:abf1a4f6a2abf755f29101592f4298e24"><td class="mdescLeft">&#160;</td><td class="mdescRight">return current username  <a href="classYAWK_1_1user.html#abf1a4f6a2abf755f29101592f4298e24">More...</a><br /></td></tr>
<tr class="separator:abf1a4f6a2abf755f29101592f4298e24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa33d68de09e911ee4462b7080ff4921"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#aaa33d68de09e911ee4462b7080ff4921">getLatestUsers</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $count)</td></tr>
<tr class="memdesc:aaa33d68de09e911ee4462b7080ff4921"><td class="mdescLeft">&#160;</td><td class="mdescRight">get latest users and return as array  <a href="classYAWK_1_1user.html#aaa33d68de09e911ee4462b7080ff4921">More...</a><br /></td></tr>
<tr class="separator:aaa33d68de09e911ee4462b7080ff4921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c2102c697f92d12da4ba27e96a53c12"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a2c2102c697f92d12da4ba27e96a53c12">getLoginData</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $<a class="el" href="classYAWK_1_1user.html">user</a>)</td></tr>
<tr class="memdesc:a2c2102c697f92d12da4ba27e96a53c12"><td class="mdescLeft">&#160;</td><td class="mdescRight">return an array with all login data  <a href="classYAWK_1_1user.html#a2c2102c697f92d12da4ba27e96a53c12">More...</a><br /></td></tr>
<tr class="separator:a2c2102c697f92d12da4ba27e96a53c12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52c63d7dcb2f0339f6ed0d7d542cc25f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a52c63d7dcb2f0339f6ed0d7d542cc25f">getToken</a> ($length)</td></tr>
<tr class="memdesc:a52c63d7dcb2f0339f6ed0d7d542cc25f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate a safe token for password reset.  <a href="classYAWK_1_1user.html#a52c63d7dcb2f0339f6ed0d7d542cc25f">More...</a><br /></td></tr>
<tr class="separator:a52c63d7dcb2f0339f6ed0d7d542cc25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa124c00c69cc1cc9f43c2d9e9f0a8ca9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#aa124c00c69cc1cc9f43c2d9e9f0a8ca9">getUserEmail</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $<a class="el" href="classYAWK_1_1user.html">user</a>)</td></tr>
<tr class="memdesc:aa124c00c69cc1cc9f43c2d9e9f0a8ca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">return email address of $user  <a href="classYAWK_1_1user.html#aa124c00c69cc1cc9f43c2d9e9f0a8ca9">More...</a><br /></td></tr>
<tr class="separator:aa124c00c69cc1cc9f43c2d9e9f0a8ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502ffc1c567ddf5b0fdf7f298769b0e9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a502ffc1c567ddf5b0fdf7f298769b0e9">getUserImage</a> ($location, $<a class="el" href="classYAWK_1_1user.html">user</a>, $cssClass, $<a class="el" href="plyr_8js.html#a55213acd2e962c7262099aa43efb6762">w</a>, $<a class="el" href="plyr_8js.html#a54c0d090c2637c9d87d2f146c938526d">h</a>)</td></tr>
<tr class="memdesc:a502ffc1c567ddf5b0fdf7f298769b0e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">return and output user image  <a href="classYAWK_1_1user.html#a502ffc1c567ddf5b0fdf7f298769b0e9">More...</a><br /></td></tr>
<tr class="separator:a502ffc1c567ddf5b0fdf7f298769b0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c07381812c5fd49822f0b8c41ea35a2"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a7c07381812c5fd49822f0b8c41ea35a2">getUserList</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>)</td></tr>
<tr class="memdesc:a7c07381812c5fd49822f0b8c41ea35a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">output a list of all users (who have not activated privacy switch)  <a href="classYAWK_1_1user.html#a7c07381812c5fd49822f0b8c41ea35a2">More...</a><br /></td></tr>
<tr class="separator:a7c07381812c5fd49822f0b8c41ea35a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4af5e1b962eb3d4e9783ece813f0f4"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a0e4af5e1b962eb3d4e9783ece813f0f4">getUserTemplateID</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $uid)</td></tr>
<tr class="memdesc:a0e4af5e1b962eb3d4e9783ece813f0f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">template ID for given user ID  <a href="classYAWK_1_1user.html#a0e4af5e1b962eb3d4e9783ece813f0f4">More...</a><br /></td></tr>
<tr class="separator:a0e4af5e1b962eb3d4e9783ece813f0f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e83dae2f14dcd9fec84f77eacefd566"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a3e83dae2f14dcd9fec84f77eacefd566">isAnybodyThere</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>)</td></tr>
<tr class="memdesc:a3e83dae2f14dcd9fec84f77eacefd566"><td class="mdescLeft">&#160;</td><td class="mdescRight">check, if a session username is set and if user is logged in  <a href="classYAWK_1_1user.html#a3e83dae2f14dcd9fec84f77eacefd566">More...</a><br /></td></tr>
<tr class="separator:a3e83dae2f14dcd9fec84f77eacefd566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6086fd3fbca73cdfc58faa09cfe46f1"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ae6086fd3fbca73cdfc58faa09cfe46f1">sendResetEmail</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $username, $<a class="el" href="classYAWK_1_1email.html">email</a>, $lang)</td></tr>
<tr class="memdesc:ae6086fd3fbca73cdfc58faa09cfe46f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send password change request email.  <a href="classYAWK_1_1user.html#ae6086fd3fbca73cdfc58faa09cfe46f1">More...</a><br /></td></tr>
<tr class="separator:ae6086fd3fbca73cdfc58faa09cfe46f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9d65cf697b7e88d202c4a7e2b42f8e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a2e9d65cf697b7e88d202c4a7e2b42f8e">setNewPassword</a> ($<a class="el" href="classYAWK_1_1db.html">db</a>, $newPassword, $uid)</td></tr>
<tr class="memdesc:a2e9d65cf697b7e88d202c4a7e2b42f8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a new user password.  <a href="classYAWK_1_1user.html#a2e9d65cf697b7e88d202c4a7e2b42f8e">More...</a><br /></td></tr>
<tr class="separator:a2e9d65cf697b7e88d202c4a7e2b42f8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5fae5124842219502e9e0a554aef34ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a5fae5124842219502e9e0a554aef34ac">$blocked</a></td></tr>
<tr class="separator:a5fae5124842219502e9e0a554aef34ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ed2598d97dc6e04cf6b0df0ab0a2c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a32ed2598d97dc6e04cf6b0df0ab0a2c5">$city</a></td></tr>
<tr class="separator:a32ed2598d97dc6e04cf6b0df0ab0a2c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8545d5f8c122ff77581a9e1beb559f1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a8545d5f8c122ff77581a9e1beb559f1f">$country</a></td></tr>
<tr class="separator:a8545d5f8c122ff77581a9e1beb559f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34110d07940f1e587c8600bfbca24478"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a34110d07940f1e587c8600bfbca24478">$currentuser</a></td></tr>
<tr class="separator:a34110d07940f1e587c8600bfbca24478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e8c01e7e5407a80b8de02eee86ae12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ac3e8c01e7e5407a80b8de02eee86ae12">$date_changed</a></td></tr>
<tr class="separator:ac3e8c01e7e5407a80b8de02eee86ae12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f856ec145fd57835671e6e9f0557797"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a5f856ec145fd57835671e6e9f0557797">$date_created</a></td></tr>
<tr class="separator:a5f856ec145fd57835671e6e9f0557797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ecf64be931e93fc18f7c99c81c851d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ad9ecf64be931e93fc18f7c99c81c851d">$date_expired</a></td></tr>
<tr class="separator:ad9ecf64be931e93fc18f7c99c81c851d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cc0f98abf7181b8e8a386df01be41f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a0cc0f98abf7181b8e8a386df01be41f5">$date_lastlogin</a></td></tr>
<tr class="separator:a0cc0f98abf7181b8e8a386df01be41f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c3a41c863e63885c55d51ba5f13de6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a></td></tr>
<tr class="separator:a1c3a41c863e63885c55d51ba5f13de6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a62f1850675079afd7874c79f75a191"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a9a62f1850675079afd7874c79f75a191">$facebook</a></td></tr>
<tr class="separator:a9a62f1850675079afd7874c79f75a191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af36334491a12b521a1e39b844d07bbab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#af36334491a12b521a1e39b844d07bbab">$firstname</a></td></tr>
<tr class="separator:af36334491a12b521a1e39b844d07bbab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ae35fd315a351023a2a030e3d0934e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ac8ae35fd315a351023a2a030e3d0934e">$gid</a></td></tr>
<tr class="separator:ac8ae35fd315a351023a2a030e3d0934e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9902ccd6af2c7c939d4688718fa0bf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#aa9902ccd6af2c7c939d4688718fa0bf9">$id</a></td></tr>
<tr class="separator:aa9902ccd6af2c7c939d4688718fa0bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad34a8dd122bf6d2dacfd800ca0ad669b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ad34a8dd122bf6d2dacfd800ca0ad669b">$job</a></td></tr>
<tr class="separator:ad34a8dd122bf6d2dacfd800ca0ad669b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace917496eb471789571de0851285721b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ace917496eb471789571de0851285721b">$lastlogin</a></td></tr>
<tr class="separator:ace917496eb471789571de0851285721b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e68b5e0f814e5320725dfcdeaa0f377"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a5e68b5e0f814e5320725dfcdeaa0f377">$lastname</a></td></tr>
<tr class="separator:a5e68b5e0f814e5320725dfcdeaa0f377"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc34819a9dfd6b51b2f3b7a568497c7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#adc34819a9dfd6b51b2f3b7a568497c7d">$likes</a></td></tr>
<tr class="separator:adc34819a9dfd6b51b2f3b7a568497c7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66ba34172bfe0ad984eb57e9a2ad7f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ac66ba34172bfe0ad984eb57e9a2ad7f5">$logged_in</a></td></tr>
<tr class="separator:ac66ba34172bfe0ad984eb57e9a2ad7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe27476da738719b2715c7ae8bd0e20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a9fe27476da738719b2715c7ae8bd0e20">$login_count</a></td></tr>
<tr class="separator:a9fe27476da738719b2715c7ae8bd0e20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7946a9645d6413d4e1daccdc1f47a5f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a7946a9645d6413d4e1daccdc1f47a5f7">$online</a></td></tr>
<tr class="separator:a7946a9645d6413d4e1daccdc1f47a5f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e7d444f5637e0a3334f016d7e2d961f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a5e7d444f5637e0a3334f016d7e2d961f">$overrideTemplate</a></td></tr>
<tr class="separator:a5e7d444f5637e0a3334f016d7e2d961f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa739df93ee95fa1dff3809166683aadf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">$password</a></td></tr>
<tr class="separator:aa739df93ee95fa1dff3809166683aadf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada835db108f1a8023923445d90bc667f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ada835db108f1a8023923445d90bc667f">$privacy</a></td></tr>
<tr class="separator:ada835db108f1a8023923445d90bc667f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cd509a0aeecaff1d803655697b24bc7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a6cd509a0aeecaff1d803655697b24bc7">$public_email</a></td></tr>
<tr class="separator:a6cd509a0aeecaff1d803655697b24bc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf8f42913a8d9e1e5ce922036332c5b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#acf8f42913a8d9e1e5ce922036332c5b0">$published</a></td></tr>
<tr class="separator:acf8f42913a8d9e1e5ce922036332c5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d561ebb66080aa51bc8efd5b41a53c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a5d561ebb66080aa51bc8efd5b41a53c2">$street</a></td></tr>
<tr class="separator:a5d561ebb66080aa51bc8efd5b41a53c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68dcbfa6cf230b3ff5bf15538f09f2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ad68dcbfa6cf230b3ff5bf15538f09f2b">$templateID</a></td></tr>
<tr class="separator:ad68dcbfa6cf230b3ff5bf15538f09f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb9bc92be8a35ab0e650d9d902bf4564"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#abb9bc92be8a35ab0e650d9d902bf4564">$twitter</a></td></tr>
<tr class="separator:abb9bc92be8a35ab0e650d9d902bf4564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14ee3061545b0ccf8881aface6c2c8ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a14ee3061545b0ccf8881aface6c2c8ee">$url</a></td></tr>
<tr class="separator:a14ee3061545b0ccf8881aface6c2c8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86882c86ac632cdabde2813efc5d6f2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a></td></tr>
<tr class="separator:a86882c86ac632cdabde2813efc5d6f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7fe3f41da7806854a7f68b477e22182"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classYAWK_1_1user.html#ae7fe3f41da7806854a7f68b477e22182">$zipcode</a></td></tr>
<tr class="separator:ae7fe3f41da7806854a7f68b477e22182"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The default user class. Provide all functions to handle the user object. </p>
<p>The default user class. Provide all functions to handle the user object.</p>
<p>All functions that are required to handle a user. Methods are: add, edit, delete, checklogin and many more. </p>
<p><em>Class covers both, backend &amp; frontend functionality. See Methods Summary for Details!</em></p>
<dl class="section author"><dt>Author</dt><dd>Daniel Retzl <a href="#" onclick="location.href='mai'+'lto:'+'dan'+'ie'+'lre'+'tz'+'l@g'+'ma'+'il.'+'co'+'m'; return false;">danie<span style="display: none;">.nosp@m.</span>lret<span style="display: none;">.nosp@m.</span>zl@gm<span style="display: none;">.nosp@m.</span>ail.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>2009-2015 Daniel Retzl @license <a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00016">16</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a33317f6e2ba4b65870f744fbbba4d7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33317f6e2ba4b65870f744fbbba4d7f8">&#9670;&nbsp;</a></span>__construct()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::__construct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>user constructor. </p>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00084">84</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">if</span> (!isset(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>)){ <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a> = new \YAWK\db(); }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            <span class="keywordflow">if</span> (isset($_SESSION[<span class="stringliteral">&#39;username&#39;</span>]))</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                $this-&gt;loadProperties(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, $_SESSION[<span class="stringliteral">&#39;username&#39;</span>]);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div>
<div class="ttc" id="adismiss-notifications_8php_html_a1fa3127fc82f96b1436d871ef02be319"><div class="ttname"><a href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a></div><div class="ttdeci">$db</div><div class="ttdef"><b>Definition:</b> <a href="dismiss-notifications_8php_source.html#l00004">dismiss-notifications.php:4</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad58815de49927f3bcb46ee458c1b60ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad58815de49927f3bcb46ee458c1b60ca">&#9670;&nbsp;</a></span>ajaxLogin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::ajaxLogin </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l01626">1626</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;        {</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;            <span class="comment">// create new user class object</span></div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;            $userClass = new \YAWK\user(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>);</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160; </div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;            <span class="comment">// check user and password vars</span></div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;            <span class="keywordflow">if</span> (isset($user) &amp;&amp; (!empty($user) &amp;&amp; (is_string($user)</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;                        &amp;&amp; (isset(<a class="code" href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">$password</a>) &amp;&amp; (!empty(<a class="code" href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">$password</a>) &amp;&amp; (is_string(<a class="code" href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">$password</a>)))))))</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;            {</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;                <span class="comment">// check if user is logged in</span></div>
<div class="line"><a name="l01636"></a><span class="lineno"> 1636</span>&#160;                <span class="keywordflow">if</span> (self::isLoggedIn(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, $user) === <span class="keyword">false</span>)</div>
<div class="line"><a name="l01637"></a><span class="lineno"> 1637</span>&#160;                {</div>
<div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;                    <span class="comment">// login successful</span></div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;                    <span class="keywordflow">if</span>(self::login(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, $user, <a class="code" href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">$password</a>) === <span class="keyword">true</span>)</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;                    {   <span class="comment">// login successful</span></div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;                        $userClass-&gt;storeLogin(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 0, <span class="stringliteral">&quot;frontend&quot;</span>, $user, <a class="code" href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">$password</a>);</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;                        <span class="comment">// \YAWK\sys::setSyslog($db, &quot;3&quot;, &quot;ajax login successful&quot;, 0, 0, 0, 0);</span></div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01644"></a><span class="lineno"> 1644</span>&#160;                    }</div>
<div class="line"><a name="l01645"></a><span class="lineno"> 1645</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;                    {   <span class="comment">// login failed</span></div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;                        $userClass-&gt;storeLogin(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 1, <span class="stringliteral">&quot;frontend&quot;</span>, $user, <a class="code" href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">$password</a>);</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;                        <span class="comment">// \YAWK\sys::setSyslog($db, &quot;5&quot;, &quot;ajax login failed&quot;, 0, 0, 0, 0);</span></div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01650"></a><span class="lineno"> 1650</span>&#160;                    }</div>
<div class="line"><a name="l01651"></a><span class="lineno"> 1651</span>&#160;                }</div>
<div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;                <span class="comment">// in any other case</span></div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;            }</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;            {   <span class="comment">// login data wrong</span></div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;            }</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        }</div>
<div class="ttc" id="aclassYAWK_1_1user_html_aa739df93ee95fa1dff3809166683aadf"><div class="ttname"><a href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">YAWK\user\$password</a></div><div class="ttdeci">$password</div><div class="ttdef"><b>Definition:</b> <a href="user_8php_source.html#l00035">user.php:35</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, and <a class="el" href="user_8php_source.html#l00035">YAWK\user\$password</a>.</p>

</div>
</div>
<a id="afb46ed1168580b6cdf7ff9e4fbecb8e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb46ed1168580b6cdf7ff9e4fbecb8e7">&#9670;&nbsp;</a></span>checkResetToken()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::checkResetToken </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$token</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if password reset token matches and return uid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database obj </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$token</td><td>token that was generated for this user </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>mixed returns the affected user id (or false) </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00129">129</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            <span class="comment">// check if token is set and in valid format</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">if</span> (isset($token) &amp;&amp; (is_string($token)))</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="comment">// strip tags for security reasons</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                $token = strip_tags($token);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160; </div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                <span class="comment">// compare with stored token in database</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;SELECT id FROM {users} WHERE hashValue = &#39;&quot;</span>.$token.<span class="stringliteral">&quot;&#39;&quot;</span>))</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                    <span class="comment">// token matches, get user ID</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    <span class="keywordflow">if</span> ($row = mysqli_fetch_row(<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a>))</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        <span class="comment">// return user ID</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                        <span class="keywordflow">return</span> $row[0];</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    {   <span class="comment">// no ID found</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                {   <span class="comment">// no user with this token hash value found</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            {   <span class="comment">// user token not set or wrong type</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div>
<div class="ttc" id="asettings-assets_8php_html_a49a8a4009b02e49717caa88b128affc5"><div class="ttname"><a href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a></div><div class="ttdeci">$res</div><div class="ttdef"><b>Definition:</b> <a href="settings-assets_8php_source.html#l00149">settings-assets.php:149</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, and <a class="el" href="settings-assets_8php_source.html#l00149">$res</a>.</p>

<p class="reference">Referenced by <a class="el" href="controller_8php_source.html#l00046">YAWK\controller\filterfilename()</a>.</p>

</div>
</div>
<a id="a58c2a63d3a156de6ddbf1ead9f3d2643"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c2a63d3a156de6ddbf1ead9f3d2643">&#9670;&nbsp;</a></span>countUsers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::countUsers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>count and return all users </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string|bool </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00752">752</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        {</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;            <span class="comment">/* @param $db \YAWK\db */</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="email-send_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;SELECT count(id) FROM {users}&quot;</span>))</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;                <a class="code" href="widget-edit_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> = mysqli_fetch_row(<a class="code" href="email-send_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="widget-edit_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>[0];</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;            }</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;            {</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;                \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to count user db &quot;</span>, 0, 0, 0, 0);</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;            }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;        }</div>
<div class="ttc" id="aemail-send_8php_html_a112ef069ddc0454086e3d1e6d8d55d07"><div class="ttname"><a href="email-send_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a></div><div class="ttdeci">$result</div><div class="ttdef"><b>Definition:</b> <a href="email-send_8php_source.html#l00137">email-send.php:137</a></div></div>
<div class="ttc" id="awidget-edit_8php_html_a83018d9153d17d91fbcf3bc10158d34f"><div class="ttname"><a href="widget-edit_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a></div><div class="ttdeci">$i</div><div class="ttdef"><b>Definition:</b> <a href="widget-edit_8php_source.html#l00203">widget-edit.php:203</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, <a class="el" href="widget-edit_8php_source.html#l00203">$i</a>, and <a class="el" href="email-send_8php_source.html#l00137">$result</a>.</p>

</div>
</div>
<a id="a372579f711415cfaebf4922413057718"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a372579f711415cfaebf4922413057718">&#9670;&nbsp;</a></span>drawLoginBox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::drawLoginBox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the html for a default login box </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username, as option </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>password, as option </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l01992">1992</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        {</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;            $html = <span class="stringliteral">&quot;</span></div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;<span class="stringliteral">            &lt;form name=\&quot;login\&quot; id=\&quot;loginForm\&quot; role=\&quot;form\&quot; method=\&quot;POST\&quot;&gt;</span></div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;text\&quot; id=\&quot;user\&quot; name=\&quot;user\&quot; value=\&quot;&quot;</span>.$username.<span class="stringliteral">&quot;\&quot; class=\&quot;form-control animated fadeIn\&quot; placeholder=\&quot;Benutzername\&quot;&gt;</span></div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;password\&quot; id=\&quot;password\&quot; name=\&quot;password\&quot; value=\&quot;&quot;</span>.<a class="code" href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">$password</a>.<span class="stringliteral">&quot;\&quot; class=\&quot;form-control animated fadeIn\&quot; placeholder=\&quot;Passwort\&quot;&gt;</span></div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;hidden\&quot; name=\&quot;login\&quot; value=\&quot;login\&quot;&gt;</span></div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;submit\&quot; id=\&quot;submitBtn\&quot; value=\&quot;Login\&quot; style=\&quot;margin-top:5px;\&quot; name=\&quot;Login\&quot; class=\&quot;btn btn-success animated fadeIn\&quot;&gt;</span></div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;<span class="stringliteral">            &lt;/form&gt;&quot;</span>;</div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;            <span class="keywordflow">return</span> $html;</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="user_8php_source.html#l00035">YAWK\user\$password</a>.</p>

<p class="reference">Referenced by <a class="el" href="controller_8php_source.html#l00046">YAWK\controller\filterfilename()</a>.</p>

</div>
</div>
<a id="ae41f50b85d5aad96aed857fca49b34ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae41f50b85d5aad96aed857fca49b34ac">&#9670;&nbsp;</a></span>drawMenuLoginBox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::drawMenuLoginBox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$password</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$style</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return the html for a menu login box </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username, as option </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$password</td><td>password, as option </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$style</td><td>menu styling: light or dark </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string htmnl that draws the menu login box </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l02011">2011</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;        {</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;            <span class="keywordflow">if</span> (!isset($style) || (empty($style)))</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;            {</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;                $style = <span class="stringliteral">&quot;light&quot;</span>;</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;                $input_style = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;            }</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;            {</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;                <span class="keywordflow">if</span> ($style == <span class="stringliteral">&quot;light&quot;</span>)</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;                {</div>
<div class="line"><a name="l02022"></a><span class="lineno"> 2022</span>&#160;                    $input_style = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l02023"></a><span class="lineno"> 2023</span>&#160;                }</div>
<div class="line"><a name="l02024"></a><span class="lineno"> 2024</span>&#160;                elseif ($style == <span class="stringliteral">&quot;dark&quot;</span>)</div>
<div class="line"><a name="l02025"></a><span class="lineno"> 2025</span>&#160;                {</div>
<div class="line"><a name="l02026"></a><span class="lineno"> 2026</span>&#160;                    $input_style = <span class="stringliteral">&quot;style=\&quot;color: #ccc; border-color: #000; background-color: #444;\&quot;&quot;</span>;</div>
<div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;                }</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;                {</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;                    $input_style = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;                }</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;            }</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160; </div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;            $html = <span class="stringliteral">&quot;&lt;form name=\&quot;login\&quot; class=\&quot;navbar-form navbar-right\&quot; role=\&quot;form\&quot; action=\&quot;welcome.html\&quot; method=\&quot;POST\&quot;&gt;</span></div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;<span class="stringliteral">              &lt;div class=\&quot;form-group\&quot;&gt;</span></div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;text\&quot; id=\&quot;user\&quot; name=\&quot;user\&quot; value=\&quot;&quot;</span>.$username.<span class="stringliteral">&quot;\&quot; class=\&quot;form-control\&quot; $input_style placeholder=\&quot;Benutzername\&quot;&gt;</span></div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;password\&quot; id=\&quot;password\&quot; name=\&quot;password\&quot; value=\&quot;&quot;</span>.<a class="code" href="classYAWK_1_1user.html#aa739df93ee95fa1dff3809166683aadf">$password</a>.<span class="stringliteral">&quot;\&quot; class=\&quot;form-control\&quot; $input_style placeholder=\&quot;Passwort\&quot;&gt;</span></div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;hidden\&quot; name=\&quot;login\&quot; value=\&quot;login\&quot;&gt;</span></div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;hidden\&quot; name=\&quot;LOCK\&quot; value=\&quot;1\&quot;&gt;</span></div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;hidden\&quot; name=\&quot;include\&quot; value=\&quot;login\&quot;&gt;</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;<span class="stringliteral">                &lt;input type=\&quot;submit\&quot; value=\&quot;Login\&quot; name=\&quot;Login\&quot; class=\&quot;btn btn-success\&quot;&gt;</span></div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;<span class="stringliteral">                &lt;/div&gt;</span></div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;<span class="stringliteral">            &lt;/form&gt;&quot;</span>;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;            <span class="keywordflow">return</span> $html;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="user_8php_source.html#l00035">YAWK\user\$password</a>.</p>

<p class="reference">Referenced by <a class="el" href="menu_8php_source.html#l00678">YAWK\menu\display()</a>.</p>

</div>
</div>
<a id="a75d2ec831c67a01e938c9d64562043a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75d2ec831c67a01e938c9d64562043a7">&#9670;&nbsp;</a></span>drawPasswordResetForm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::drawPasswordResetForm </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$lang</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Draw the form where users can reset their password. </p>
<p>The password reset email leads to this form. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database obj </td></tr>
    <tr><td class="paramtype">array</td><td class="paramname">$lang</td><td>language array </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$uid</td><td>user ID </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00169">169</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            echo <span class="stringliteral">&quot;&lt;form action=\&quot;index.php?setNewPassword=true\&quot; method=\&quot;POST\&quot; role=\&quot;form\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            echo <span class="stringliteral">&quot;&lt;label for=\&quot;newPassword1\&quot;&gt;$lang[PASSWORD]&lt;/label&gt;&quot;</span>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            echo <span class="stringliteral">&quot;&lt;input type=\&quot;password\&quot; class=\&quot;form-control\&quot; name=\&quot;newPassword1\&quot; id=\&quot;newPassword1\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            echo <span class="stringliteral">&quot;&lt;label for=\&quot;newPassword2\&quot;&gt;$lang[PASSWORD_REPEAT]&lt;/label&gt;&quot;</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            echo <span class="stringliteral">&quot;&lt;input type=\&quot;password\&quot; class=\&quot;form-control\&quot; name=\&quot;newPassword2\&quot; id=\&quot;newPassword2\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            echo <span class="stringliteral">&quot;&lt;input type=\&quot;hidden\&quot; value=\&quot;$uid\&quot; class=\&quot;form-control\&quot; name=\&quot;uid\&quot; id=\&quot;uid\&quot;&gt;&quot;</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            echo <span class="stringliteral">&quot;&lt;button type=\&quot;submit\&quot; style=\&quot;margin-top:5px;\&quot; class=\&quot;btn btn-success\&quot;&gt;$lang[PASSWORD_SET_NEW]&lt;/button&gt;&quot;</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            echo <span class="stringliteral">&quot;&lt;/form&gt;&quot;</span>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="controller_8php_source.html#l00046">YAWK\controller\filterfilename()</a>.</p>

</div>
</div>
<a id="abf1a4f6a2abf755f29101592f4298e24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf1a4f6a2abf755f29101592f4298e24">&#9670;&nbsp;</a></span>getCurrentUserName()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::getCurrentUserName </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$lang</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return current username </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$lang</td><td>language obj </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string current username </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00342">342</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            <span class="keywordflow">if</span> (isset($_SESSION[<span class="stringliteral">&#39;username&#39;</span>]))</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="keywordflow">return</span> $_SESSION[<span class="stringliteral">&#39;username&#39;</span>];</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            }</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="admin_2includes_2filemanager_8php.html#aa5ed3346b5437107e83ab49e3e311acb">$lang</a>[<span class="stringliteral">&#39;GUEST&#39;</span>];</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        }</div>
<div class="ttc" id="aadmin_2includes_2filemanager_8php_html_aa5ed3346b5437107e83ab49e3e311acb"><div class="ttname"><a href="admin_2includes_2filemanager_8php.html#aa5ed3346b5437107e83ab49e3e311acb">$lang</a></div><div class="ttdeci">print $lang['FILEMAN_UPLOAD']</div><div class="ttdef"><b>Definition:</b> <a href="admin_2includes_2filemanager_8php_source.html#l00369">filemanager.php:369</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="admin_2includes_2filemanager_8php_source.html#l00369">$lang</a>.</p>

<p class="reference">Referenced by <a class="el" href="AdminLTE_8php_source.html#l01209">YAWK\BACKEND\AdminLTE\drawHtmlContent()</a>.</p>

</div>
</div>
<a id="aaa33d68de09e911ee4462b7080ff4921"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa33d68de09e911ee4462b7080ff4921">&#9670;&nbsp;</a></span>getLatestUsers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::getLatestUsers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get latest users and return as array </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$count</td><td>limit the query </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array|string </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00716">716</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;        {</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">if</span> (isset($count))</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            {   <span class="comment">// param</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                $limit = $count;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            {   <span class="comment">// default value</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                $limit = 8;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="comment">/* @param $db \YAWK\db */</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="email-send_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;SELECT cu.*, cg.value as gid FROM {users} as cu</span></div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;<span class="stringliteral">                                      JOIN {user_groups} as cg on cu.gid = cg.id ORDER BY id LIMIT $limit&quot;</span>))</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;            {</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;                $userDataArray = array();</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;                <span class="comment">// cycle trough results</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;                <span class="keywordflow">while</span> ($row = <a class="code" href="email-send_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>-&gt;fetch_assoc())</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;                {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                    $userDataArray[] = $row;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                }</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;                <span class="comment">/* free result */</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;                <a class="code" href="email-send_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>-&gt;close();</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            }</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                $userDataArray = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to fetch user list&quot;</span>, 0, 0, 0, 0);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;                echo \YAWK\alert::draw(<span class="stringliteral">&quot;danger&quot;</span>, <span class="stringliteral">&quot;Error&quot;</span>, <span class="stringliteral">&quot;Sorry, database error: fetch getLatestUsers failed.&quot;</span>,<span class="stringliteral">&quot;page=users&quot;</span>,<span class="stringliteral">&quot;4800&quot;</span>);</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            }</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            <span class="keywordflow">return</span> $userDataArray;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, and <a class="el" href="email-send_8php_source.html#l00137">$result</a>.</p>

<p class="reference">Referenced by <a class="el" href="system_2classes_2dashboard_8php_source.html#l00094">YAWK\BACKEND\dashboard\drawLatestUsers()</a>.</p>

</div>
</div>
<a id="a2c2102c697f92d12da4ba27e96a53c12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c2102c697f92d12da4ba27e96a53c12">&#9670;&nbsp;</a></span>getLoginData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::getLoginData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return an array with all login data </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$user</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array|bool </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00538">538</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        {   <span class="comment">/* @param $db \YAWK\db */</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <span class="keywordflow">if</span> (isset($user) &amp;&amp; (!empty($user)))</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;            {   <span class="comment">// check if user is registered</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;                <span class="keywordflow">if</span> (self::hasLoggedIn(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, $user))</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;                {   <span class="comment">// user is in list, extend sql string</span></div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;                    $sqlStr = <span class="stringliteral">&quot;WHERE username=&#39;$user&#39;&quot;</span>;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                    <a class="code" href="classYAWK_1_1alert.html#acab73788f034d5acdb1b17acec7ab505">\YAWK\alert::draw</a>(<span class="stringliteral">&quot;success&quot;</span>, <span class="stringliteral">&quot;showing login data for user: $user&quot;</span>, <span class="stringliteral">&quot; &quot;</span>, <span class="stringliteral">&quot;&quot;</span>,2400);</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;                }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;                {   <span class="comment">// user not found in table, so draw an alert and show all logins...</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;                    $sqlStr = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;                    <a class="code" href="classYAWK_1_1alert.html#acab73788f034d5acdb1b17acec7ab505">\YAWK\alert::draw</a>(<span class="stringliteral">&quot;warning&quot;</span>, <span class="stringliteral">&quot;Error!&quot;</span>, <span class="stringliteral">&quot;&lt;h4&gt;No login data available.&lt;/h4&gt; Could not get data for user &lt;b&gt;$user&lt;/b&gt;. Displaying all data instead.&quot;</span>, <span class="stringliteral">&quot;&quot;</span>,5000);</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;            }</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;            {   <span class="comment">// show all logins</span></div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                $sqlStr = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;SELECT * FROM {logins} $sqlStr&quot;</span>))</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;            {   <span class="comment">// fetch data in loop</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="keywordflow">while</span> ($row = <a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a>-&gt;fetch_assoc())</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                {   <span class="comment">// store logins into array</span></div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                    $loginsArray[] = $row;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                }</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <span class="keywordflow">if</span> (isset($loginsArray) &amp;&amp; (!empty($loginsArray)))</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                {   <span class="comment">// if array is set and not empty</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                    <span class="keywordflow">return</span> $loginsArray;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                }</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                {   <span class="comment">// something went wrong</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;            }</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            {   <span class="comment">// could not query login data...</span></div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;                \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to query login data of $user &quot;</span>, 0, 0, 0, 0);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        }</div>
<div class="ttc" id="aclassYAWK_1_1alert_html_acab73788f034d5acdb1b17acec7ab505"><div class="ttname"><a href="classYAWK_1_1alert.html#acab73788f034d5acdb1b17acec7ab505">YAWK\alert\draw</a></div><div class="ttdeci">static draw($type, $title, $text, $redirect, $delay)</div><div class="ttdef"><b>Definition:</b> <a href="alert_8php_source.html#l00030">alert.php:30</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, <a class="el" href="settings-assets_8php_source.html#l00149">$res</a>, and <a class="el" href="alert_8php_source.html#l00030">YAWK\alert\draw()</a>.</p>

</div>
</div>
<a id="a52c63d7dcb2f0339f6ed0d7d542cc25f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52c63d7dcb2f0339f6ed0d7d542cc25f">&#9670;&nbsp;</a></span>getToken()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::getToken </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$length</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate a safe token for password reset. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$length</td><td>the length of your token </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string $token function returns the token </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00099">99</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        {</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            $token = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            $code = <span class="stringliteral">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            $code.= <span class="stringliteral">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            $code.= <span class="stringliteral">&quot;0123456789&quot;</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            $max = strlen($code); <span class="comment">// edited</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">for</span> (<a class="code" href="widget-edit_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>=0; <a class="code" href="widget-edit_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a> &lt; $length; <a class="code" href="widget-edit_8php.html#a83018d9153d17d91fbcf3bc10158d34f">$i</a>++)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                $token .= $code[random_int(0, $max-1)];</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="comment">// check if token is set</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">if</span> (is_string($token))</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            {   <span class="comment">// ok, return token</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">return</span> $token;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            {   <span class="comment">// error generating token</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="widget-edit_8php_source.html#l00203">$i</a>.</p>

<p class="reference">Referenced by <a class="el" href="user_8php_source.html#l00230">YAWK\user\sendResetEmail()</a>.</p>

</div>
</div>
<a id="ada3f19d62e9c023ca62ca2779a1e961f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada3f19d62e9c023ca62ca2779a1e961f">&#9670;&nbsp;</a></span>getUserArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::getUserArray </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>return user data as an array </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array|string </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00688">688</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        {</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            <span class="comment">/* @param $db \YAWK\db */</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="email-send_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;SELECT cu.*, cg.value as gid FROM {users} as cu</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;<span class="stringliteral">                                      JOIN {user_groups} as cg on cu.gid = cg.id ORDER BY id&quot;</span>))</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            {</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;                $userDataArray = array();</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;                <span class="comment">// cycle trough results</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;                <span class="keywordflow">while</span> ($row = <a class="code" href="email-send_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>-&gt;fetch_assoc())</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;                {</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;                    $userDataArray[] = $row;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;                }</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;                <span class="comment">/* free result */</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <a class="code" href="email-send_8php.html#a112ef069ddc0454086e3d1e6d8d55d07">$result</a>-&gt;close();</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;            }</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;                $userDataArray = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                echo \YAWK\alert::draw(<span class="stringliteral">&quot;danger&quot;</span>, <span class="stringliteral">&quot;Error&quot;</span>, <span class="stringliteral">&quot;Sorry, database error: fetch getUserArray failed.&quot;</span>,<span class="stringliteral">&quot;page=users&quot;</span>,<span class="stringliteral">&quot;4800&quot;</span>);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;            }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;            <span class="keywordflow">return</span> $userDataArray;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, and <a class="el" href="email-send_8php_source.html#l00137">$result</a>.</p>

</div>
</div>
<a id="aa124c00c69cc1cc9f43c2d9e9f0a8ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa124c00c69cc1cc9f43c2d9e9f0a8ca9">&#9670;&nbsp;</a></span>getUserEmail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::getUserEmail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return email address of $user </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$user</td><td>username </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool the emailadress of this $user </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$db</td><td>\YAWK\db $res</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l01252">1252</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;        {   <span class="comment">/** @param $db \YAWK\db $res */</span></div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;SELECT email</span></div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;<span class="stringliteral">                              FROM {users}</span></div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;<span class="stringliteral">                              WHERE username = &#39;&quot;</span> . $user. <span class="stringliteral">&quot;&#39;&quot;</span>))</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;            {   <span class="comment">// fetch data</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;                $row = <a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a>-&gt;fetch_row();</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;                <span class="keywordflow">return</span> $row[0];</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;            }</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;            {   <span class="comment">// q failed</span></div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;                \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to get email address of &lt;b&gt;$user&lt;/b&gt; &quot;</span>, 0, 0, 0, 0);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;            }</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, and <a class="el" href="settings-assets_8php_source.html#l00149">$res</a>.</p>

<p class="reference">Referenced by <a class="el" href="user_8php_source.html#l00230">YAWK\user\sendResetEmail()</a>.</p>

</div>
</div>
<a id="a502ffc1c567ddf5b0fdf7f298769b0e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a502ffc1c567ddf5b0fdf7f298769b0e9">&#9670;&nbsp;</a></span>getUserImage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::getUserImage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$cssClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$w</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$h</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return and output user image </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$location</td><td>frontend or backend </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$user</td><td>username </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$cssClass</td><td>image css class eg. img-circle </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$w</td><td>width in pixel </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$h</td><td>height in pixel </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l01077">1077</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;        {</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;            <span class="keywordflow">if</span> (isset($w) &amp;&amp; isset($h))</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;            {</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                <span class="keywordflow">if</span> ($w === 0)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                    $width = 0;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                {</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                    $width = <span class="stringliteral">&quot;width=\&quot;$w\&quot; &quot;</span>;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                }</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                <span class="keywordflow">if</span> ($h === 0)</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;                {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                    $height = 0;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                }</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                {</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    $height = <span class="stringliteral">&quot;height=\&quot;$h\&quot; &quot;</span>;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                }</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;            }</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;            {</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                $width = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                $height = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;            }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;            <span class="keywordflow">if</span> (isset($cssClass))</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;            {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                $css = <span class="stringliteral">&quot;class=\&quot;$cssClass\&quot;&quot;</span>;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;            }</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;            {</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                $css = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            }</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160; </div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <span class="keywordflow">if</span> (isset($location))</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            {</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                <span class="keywordflow">if</span> ($location == <span class="stringliteral">&quot;frontend&quot;</span>){</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                    $imageJpg = <span class="stringliteral">&quot;media/images/users/&quot;</span>.$user.<span class="stringliteral">&quot;.jpg&quot;</span>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                    $imagePng = <span class="stringliteral">&quot;media/images/users/&quot;</span>.$user.<span class="stringliteral">&quot;.png&quot;</span>;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;                    $defaultPic = <span class="stringliteral">&quot;&lt;img src=\&quot;media/images/users/avatar.png\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160; </div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                }</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                {</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;                    $imageJpg = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                    $imagePng = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                    $defaultPic = <span class="stringliteral">&quot;&lt;img src=\&quot;media/images/users/avatar.png\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                <span class="keywordflow">if</span> ($location == <span class="stringliteral">&quot;backend&quot;</span>){</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;                    $imageJpg = <span class="stringliteral">&quot;../media/images/users/&quot;</span>.$user.<span class="stringliteral">&quot;.jpg&quot;</span>;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                    $imagePng = <span class="stringliteral">&quot;../media/images/users/&quot;</span>.$user.<span class="stringliteral">&quot;.png&quot;</span>;</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160; </div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                    <span class="keywordflow">if</span> ($cssClass == <span class="stringliteral">&quot;img-circle&quot;</span>)</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                    {</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                        $defaultPic = <span class="stringliteral">&quot;&lt;img src=\&quot;../media/images/users/avatar.png\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;                    }</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                    elseif ($cssClass == <span class="stringliteral">&quot;img-circle sidebar-toggle&quot;</span>)</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                    {</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                        $defaultPic = <span class="stringliteral">&quot;&lt;img src=\&quot;../media/images/users/avatar-light.png\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                    }</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                    <span class="keywordflow">if</span> ($cssClass == <span class="stringliteral">&quot;user-image&quot;</span>)</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                    {</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                        $defaultPic = <span class="stringliteral">&quot;&lt;img src=\&quot;../media/images/users/avatar.png\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                    }</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                    <span class="keywordflow">if</span> ($cssClass == <span class="stringliteral">&quot;profile-user-img img-responsive img-circle&quot;</span>)</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                    {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                        $defaultPic = <span class="stringliteral">&quot;&lt;img src=\&quot;../media/images/users/avatar.png\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;                    }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                }</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                {</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                    $imageJpg = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                    $imagePng = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                    $defaultPic = <span class="stringliteral">&quot;&lt;img src=\&quot;media/images/users/avatar.png\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                $imageJpg = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                $imagePng = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                $defaultPic = <span class="stringliteral">&quot;&lt;img src=\&quot;media/images/users/avatar.png\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;            }</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160; </div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160; </div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;            <span class="keywordflow">if</span> (file_exists($imageJpg)){</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;img src=\&quot;&quot;</span>.$imageJpg.<span class="stringliteral">&quot;\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;            }</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;            elseif (file_exists($imagePng)){</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;img src=\&quot;&quot;</span>.$imagePng.<span class="stringliteral">&quot;\&quot; $width $height $css&gt;&quot;</span>;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;            }</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;            {</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <span class="keywordflow">return</span> $defaultPic;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="AdminLTE_8php_source.html#l00870">YAWK\BACKEND\AdminLTE\drawHtmlLeftSidebar()</a>, <a class="el" href="AdminLTE_8php_source.html#l00403">YAWK\BACKEND\AdminLTE\drawHtmlNavbarMessagesMenu()</a>, <a class="el" href="AdminLTE_8php_source.html#l00769">YAWK\BACKEND\AdminLTE\drawHtmlNavbarUserAccountMenu()</a>, <a class="el" href="system_2classes_2dashboard_8php_source.html#l00094">YAWK\BACKEND\dashboard\drawLatestUsers()</a>, <a class="el" href="menu_8php_source.html#l01019">YAWK\menu\drawLogoutMenu()</a>, and <a class="el" href="plugins_2messages_2classes_2messages_8php_source.html#l00393">YAWK\PLUGINS\MESSAGES\messages\MessageView()</a>.</p>

</div>
</div>
<a id="a7c07381812c5fd49822f0b8c41ea35a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c07381812c5fd49822f0b8c41ea35a2">&#9670;&nbsp;</a></span>getUserList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::getUserList </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>output a list of all users (who have not activated privacy switch) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l02119">2119</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        {   <span class="comment">/* @param \YAWK\db $db */</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;            <span class="comment">// show ALL users</span></div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            <span class="comment">// get all users from db where privacy is set to zero</span></div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            <span class="comment">// &amp; just pick users who are set to online in database</span></div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;            <a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;SELECT username, email, public_email, online FROM {users} WHERE privacy != 1&quot;</span>);</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;            <span class="keywordflow">while</span> ($row = mysqli_fetch_assoc(<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a>)){</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;                <span class="comment">// first char uppcerase</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;                <a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a> = ucfirst($row[<span class="stringliteral">&#39;username&#39;</span>]);</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;                <span class="comment">// check if users email adress is public</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;                <span class="keywordflow">if</span> ($row[<span class="stringliteral">&#39;email&#39;</span>] &amp;&amp; $row[<span class="stringliteral">&#39;public_email&#39;</span>] === <span class="charliteral">&#39;0&#39;</span>){</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;                    <a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a> = $row[<span class="stringliteral">&#39;email&#39;</span>];</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;                } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;                    <a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a> = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;                } <span class="comment">// if not, build an empty string</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;                <span class="keywordflow">if</span> ($row[<span class="stringliteral">&#39;online&#39;</span>] === <span class="charliteral">&#39;0&#39;</span>) {</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;                    $color = <span class="stringliteral">&quot;text-danger&quot;</span>;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;                }</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;                    $color = <span class="stringliteral">&quot;text-success&quot;</span>;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;                }</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;                echo <span class="stringliteral">&quot;&lt;ul class=\&quot;list-group\&quot;&gt;</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;<span class="stringliteral">            &lt;li class=\&quot;list-group-item\&quot;&gt;&lt;span class=\&quot;&quot;</span>.$color.<span class="stringliteral">&quot;\&quot;&gt;&lt;strong&gt;&quot;</span>.<a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a>.<span class="stringliteral">&quot; &amp;nbsp;&amp;nbsp;&lt;small&gt;&quot;</span>.<a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>.<span class="stringliteral">&quot;&lt;/strong&gt;&lt;/small&gt;&lt;/span&gt;&lt;/li&gt;</span></div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;<span class="stringliteral">            &lt;/ul&gt;&quot;</span>;</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            }</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        }</div>
<div class="ttc" id="aclassYAWK_1_1user_html_a1c3a41c863e63885c55d51ba5f13de6e"><div class="ttname"><a href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">YAWK\user\$email</a></div><div class="ttdeci">$email</div><div class="ttdef"><b>Definition:</b> <a href="user_8php_source.html#l00047">user.php:47</a></div></div>
<div class="ttc" id="aclassYAWK_1_1user_html_a86882c86ac632cdabde2813efc5d6f2f"><div class="ttname"><a href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">YAWK\user\$username</a></div><div class="ttdeci">$username</div><div class="ttdef"><b>Definition:</b> <a href="user_8php_source.html#l00021">user.php:21</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, <a class="el" href="user_8php_source.html#l00047">YAWK\user\$email</a>, <a class="el" href="settings-assets_8php_source.html#l00149">$res</a>, and <a class="el" href="user_8php_source.html#l00021">YAWK\user\$username</a>.</p>

<p class="reference">Referenced by <a class="el" href="template_8php_source.html#l02733">YAWK\template\setPosition()</a>.</p>

</div>
</div>
<a id="a0e4af5e1b962eb3d4e9783ece813f0f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e4af5e1b962eb3d4e9783ece813f0f4">&#9670;&nbsp;</a></span>getUserTemplateID()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::getUserTemplateID </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>template ID for given user ID </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$uid</td><td>user ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string|bool return template ID to corresponding user ID </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00419">419</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        {   <span class="comment">/* @param $db \YAWK\db */</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;            <span class="keywordflow">if</span> (!isset(<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>) &amp;&amp; (empty(<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>)))</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;            {   <span class="comment">// uid is missing</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;            }</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;SELECT templateID FROM {users} WHERE id = $uid&quot;</span>))</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;            {</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                <span class="keywordflow">if</span> ($row = mysqli_fetch_row(<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a>))</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                {   <span class="comment">// return $userTemplateID</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;                    <span class="keywordflow">return</span> $row[0];</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;                }</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;                {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;                    \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to get templateID from user db &quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;                }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;            {</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to query templateID from user db &quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;            }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        }</div>
<div class="ttc" id="aaccept-friend_8php_html_ad38e469bfe9be207845cf932fa26e164"><div class="ttname"><a href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a></div><div class="ttdeci">if(!isset($db)) $uid</div><div class="ttdef"><b>Definition:</b> <a href="accept-friend_8php_source.html#l00013">accept-friend.php:13</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, <a class="el" href="settings-assets_8php_source.html#l00149">$res</a>, and <a class="el" href="accept-friend_8php_source.html#l00013">$uid</a>.</p>

</div>
</div>
<a id="a961bd6e63404501a3aeeb5a364a2cadc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a961bd6e63404501a3aeeb5a364a2cadc">&#9670;&nbsp;</a></span>isAllowedToOverrideTemplate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::isAllowedToOverrideTemplate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check if user ID is allowed to override template </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$uid</td><td>user ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00450">450</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        {   <span class="comment">/* @param $db \YAWK\db */</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;SELECT overrideTemplate FROM {users} WHERE id = $uid&quot;</span>))</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            {</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;                <span class="keywordflow">if</span> ($row = mysqli_fetch_row(<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a>))</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;                {</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;                    <span class="keywordflow">if</span> ($row[0] === <span class="stringliteral">&quot;1&quot;</span>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;                    {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;                    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                    {</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                    }</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                }</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                    \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to get overrideTemplate status from user db &quot;</span>, 0, 0, 0, 0);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;            }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;            {</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;            }</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, and <a class="el" href="settings-assets_8php_source.html#l00149">$res</a>.</p>

</div>
</div>
<a id="a3e83dae2f14dcd9fec84f77eacefd566"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e83dae2f14dcd9fec84f77eacefd566">&#9670;&nbsp;</a></span>isAnybodyThere()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::isAnybodyThere </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check, if a session username is set and if user is logged in </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database obj </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>string|bool return current username or false </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00359">359</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        {</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="comment">// check if session is set</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            <span class="keywordflow">if</span> (isset($_SESSION))</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;            {</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="comment">// check if session username + uid is set</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;                <span class="keywordflow">if</span> (isset($_SESSION[<span class="stringliteral">&#39;username&#39;</span>]) &amp;&amp; isset($_SESSION[<span class="stringliteral">&#39;uid&#39;</span>]))</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;                {   <span class="comment">// check if session logged_in status is true</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;                    <span class="keywordflow">if</span> ($_SESSION[<span class="stringliteral">&#39;logged_in&#39;</span>] == <span class="keyword">true</span>)</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                    {   <span class="comment">// session username is set, check if its a non-empty string</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;                        <span class="keywordflow">if</span> (!empty($_SESSION[<span class="stringliteral">&#39;username&#39;</span>]) &amp;&amp; (is_string($_SESSION[<span class="stringliteral">&#39;username&#39;</span>])))</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                        {   <span class="comment">// username seems to be valid -</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                            <span class="keywordflow">return</span> $_SESSION[<span class="stringliteral">&#39;username&#39;</span>];</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                        }</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                        {   <span class="comment">// username seems not to be valid</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                        }</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    }</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                    {   <span class="comment">// user is there, but not logged in</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                    }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                }</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                {   <span class="comment">// session username is not set</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                }</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <span class="comment">// no session - check if $_GET is set instead</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset(<a class="code" href="page-edit_8php.html#ac1edb09eb07acac250882fb7807c4489">$_GET</a>))</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;            {   <span class="comment">// check if user param is set</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="keywordflow">if</span> (isset(<a class="code" href="page-edit_8php.html#ac1edb09eb07acac250882fb7807c4489">$_GET</a>[<span class="stringliteral">&#39;user&#39;</span>]) &amp;&amp; (!empty(<a class="code" href="page-edit_8php.html#ac1edb09eb07acac250882fb7807c4489">$_GET</a>[<span class="stringliteral">&#39;user&#39;</span>]) &amp;&amp; (is_string(<a class="code" href="page-edit_8php.html#ac1edb09eb07acac250882fb7807c4489">$_GET</a>[<span class="stringliteral">&#39;user&#39;</span>]))))</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                {   <span class="comment">// check if database says user is logged in</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                    <span class="keywordflow">if</span> (self::isLoggedIn(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, <a class="code" href="page-edit_8php.html#ac1edb09eb07acac250882fb7807c4489">$_GET</a>[<span class="stringliteral">&#39;user&#39;</span>]))</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                    {   <span class="comment">// user is logged in</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                        <span class="keywordflow">return</span> <a class="code" href="page-edit_8php.html#ac1edb09eb07acac250882fb7807c4489">$_GET</a>[<span class="stringliteral">&#39;user&#39;</span>];</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;                    }</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                    {   <span class="comment">// user is not logged in</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                    }</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;                }</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                {   <span class="comment">// $_GET user is not set, empty or not valid</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                }</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            {   <span class="comment">// no user is there</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;            }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        }</div>
<div class="ttc" id="apage-edit_8php_html_ac1edb09eb07acac250882fb7807c4489"><div class="ttname"><a href="page-edit_8php.html#ac1edb09eb07acac250882fb7807c4489">$_GET</a></div><div class="ttdeci">print $_GET['id']</div><div class="ttdef"><b>Definition:</b> <a href="page-edit_8php_source.html#l00288">page-edit.php:288</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="page-edit_8php_source.html#l00288">$_GET</a>, and <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>.</p>

<p class="reference">Referenced by <a class="el" href="classes_2loginbox_8php_source.html#l00095">YAWK\WIDGETS\LOGINBOX\LOGIN\loginbox\init()</a>.</p>

</div>
</div>
<a id="a8941c746602aee0b2f0a96cc96c6dd0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8941c746602aee0b2f0a96cc96c6dd0a">&#9670;&nbsp;</a></span>isTemplateEqual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::isTemplateEqual </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userTemplateID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check if user template equals selected (active) template </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>Database </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userTemplateID</td><td>the user template ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00517">517</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="comment">/* @param $db \YAWK\db */</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;            <span class="comment">// check if userTemplateID param is set</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;            <span class="keywordflow">if</span> (!isset(<a class="code" href="template-overview_8php.html#a22e775a868fbe5a2271ac377246823bb">$userTemplateID</a>) &amp;&amp; (empty(<a class="code" href="template-overview_8php.html#a22e775a868fbe5a2271ac377246823bb">$userTemplateID</a>))) {   <span class="comment">// missing templateID - cannot compare,</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            }</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            $selectedTemplate = <a class="code" href="classYAWK_1_1settings.html#a30c06b782f63a2258fd3266f349082fa">\YAWK\settings::getSetting</a>(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, <span class="stringliteral">&quot;selectedTemplate&quot;</span>);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;            <span class="keywordflow">if</span> ($selectedTemplate === <a class="code" href="template-overview_8php.html#a22e775a868fbe5a2271ac377246823bb">$userTemplateID</a>) {   <span class="comment">// user templateID and primary template (selectedTemplate) are equal</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            } <span class="keywordflow">else</span> {   <span class="comment">// user templateID and selected template do not match</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;            }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        }</div>
<div class="ttc" id="aclassYAWK_1_1settings_html_a30c06b782f63a2258fd3266f349082fa"><div class="ttname"><a href="classYAWK_1_1settings.html#a30c06b782f63a2258fd3266f349082fa">YAWK\settings\getSetting</a></div><div class="ttdeci">static getSetting($db, $property)</div><div class="ttdoc">Get and return value for property from settings database.</div><div class="ttdef"><b>Definition:</b> <a href="system_2classes_2settings_8php_source.html#l00470">settings.php:470</a></div></div>
<div class="ttc" id="atemplate-overview_8php_html_a22e775a868fbe5a2271ac377246823bb"><div class="ttname"><a href="template-overview_8php.html#a22e775a868fbe5a2271ac377246823bb">$userTemplateID</a></div><div class="ttdeci">$userTemplateID</div><div class="ttdef"><b>Definition:</b> <a href="template-overview_8php_source.html#l00492">template-overview.php:492</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, <a class="el" href="template-overview_8php_source.html#l00492">$userTemplateID</a>, and <a class="el" href="system_2classes_2settings_8php_source.html#l00470">YAWK\settings\getSetting()</a>.</p>

</div>
</div>
<a id="ae6086fd3fbca73cdfc58faa09cfe46f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6086fd3fbca73cdfc58faa09cfe46f1">&#9670;&nbsp;</a></span>sendResetEmail()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::sendResetEmail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$email</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$lang</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send password change request email. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database obj </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$username</td><td>username from pwd reset form </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$email</td><td>email from pwd reset from </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$lang</td><td>language obj </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true|false </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00230">230</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <span class="comment">// first of all we check if user entered a correct username or email string.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="comment">// afterwards, we get the UID for this user and store a personal hash value</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="comment">// user will get an email, containing a link with the hash to the form where</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="comment">// he can set his new password. If hash matches, password change is possible.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="comment">// Until this last step he can still login with his old credentials - password</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="comment">// in database will not be touched until he enters a new one.</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            <span class="comment">// get UID from username</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">if</span> (isset(<a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a>) &amp;&amp; (!empty(<a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a>) &amp;&amp; (is_string(<a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a>)))) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                <span class="comment">// user wants to reset with his username</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a> = trim(<a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a>);</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a> = strip_tags(<a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="comment">// get user id from username</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a> = self::getUserIdFromName(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, <a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            }</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <span class="comment">// or get UID from email</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (isset(<a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>) &amp;&amp; (!empty(<a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>) &amp;&amp; (is_string(<a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>))))</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                <span class="comment">// user wants to reset with his email</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                <a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a> = trim(<a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                <a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a> = strip_tags(<a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a> = self::getUserIdFromEmail(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, <a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;            }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <a class="code" href="classYAWK_1_1alert.html#acab73788f034d5acdb1b17acec7ab505">\YAWK\alert::draw</a>(<span class="stringliteral">&quot;warning&quot;</span>, <a class="code" href="admin_2includes_2filemanager_8php.html#aa5ed3346b5437107e83ab49e3e311acb">$lang</a>[<span class="stringliteral">&#39;WARNING&#39;</span>], <a class="code" href="admin_2includes_2filemanager_8php.html#aa5ed3346b5437107e83ab49e3e311acb">$lang</a>[<span class="stringliteral">&#39;USERNAME_OR_EMAIL_NOT_SET&#39;</span>], <span class="stringliteral">&quot;&quot;</span>, 3800);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;            }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;            <span class="comment">// check if UID is valid</span></div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">if</span> (empty(<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>) || (!is_numeric(<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>)))</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            {   <span class="comment">// throw error - UID is not valid</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                <a class="code" href="classYAWK_1_1alert.html#acab73788f034d5acdb1b17acec7ab505">\YAWK\alert::draw</a>(<span class="stringliteral">&quot;danger&quot;</span>, <a class="code" href="admin_2includes_2filemanager_8php.html#aa5ed3346b5437107e83ab49e3e311acb">$lang</a>[<span class="stringliteral">&#39;ERROR&#39;</span>], <a class="code" href="admin_2includes_2filemanager_8php.html#aa5ed3346b5437107e83ab49e3e311acb">$lang</a>[<span class="stringliteral">&#39;PASSWORD_RESET_UID_FAILED&#39;</span>], <span class="stringliteral">&quot;&quot;</span>, 3800);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;            }</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            {   <span class="comment">// uid is valid, go ahead and generate hash value</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                $token = <a class="code" href="classYAWK_1_1user.html#a52c63d7dcb2f0339f6ed0d7d542cc25f">self::getToken</a>(196);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160; </div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                <span class="comment">// store token in database</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;UPDATE {users} SET hashValue = &#39;&quot;</span>.$token.<span class="stringliteral">&quot;&#39; WHERE id = &#39;&quot;</span>.<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>.<span class="stringliteral">&quot;&#39;&quot;</span>))</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                    <span class="comment">// get user email address</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    <span class="keywordflow">if</span> (!isset(<a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>) || (empty(<a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>)))</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                        <span class="comment">// get email address of this user</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                        $to = <a class="code" href="classYAWK_1_1user.html#aa124c00c69cc1cc9f43c2d9e9f0a8ca9">\YAWK\user::getUserEmail</a>(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, <a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                    {   <span class="comment">// password recipient</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                        $to = <a class="code" href="classYAWK_1_1user.html#a1c3a41c863e63885c55d51ba5f13de6e">$email</a>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                        <span class="comment">// get username</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                        <a class="code" href="classYAWK_1_1user.html#a86882c86ac632cdabde2813efc5d6f2f">$username</a> = self::getUserNameFromID(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>);</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                    }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160; </div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                    <span class="comment">// get admin email address</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                    $from = <a class="code" href="classYAWK_1_1settings.html#a30c06b782f63a2258fd3266f349082fa">\YAWK\settings::getSetting</a>(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, <span class="stringliteral">&quot;admin_email&quot;</span>);</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160; </div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                    <span class="comment">// check if $to is a valid email address</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                    <span class="keywordflow">if</span> (filter_var($to, FILTER_VALIDATE_EMAIL))</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                    {</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                        <span class="comment">// get full url to build the link</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        <a class="code" href="classYAWK_1_1user.html#a14ee3061545b0ccf8881aface6c2c8ee">$url</a> = <a class="code" href="classYAWK_1_1sys.html#a8bbf939861d3a07415404170767d79d4">\YAWK\sys::getHost</a>(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>);</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160; </div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                        <span class="comment">// append token and generate complete url</span></div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                        $firstCharOfUrl = mb_substr(<a class="code" href="classYAWK_1_1user.html#a14ee3061545b0ccf8881aface6c2c8ee">$url</a>, 0,-1);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                        <span class="keywordflow">if</span> ($firstCharOfUrl === <span class="stringliteral">&quot;/&quot;</span>)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                        {   <span class="comment">// url missing trailing slash, append it</span></div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;                            $tokenLink = <a class="code" href="classYAWK_1_1user.html#a14ee3061545b0ccf8881aface6c2c8ee">$url</a>.<span class="stringliteral">&quot;/index.php?resetPassword=true&amp;token=$token&quot;</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                        }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                        {   <span class="comment">// url still got a slash</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                            $tokenLink = <a class="code" href="classYAWK_1_1user.html#a14ee3061545b0ccf8881aface6c2c8ee">$url</a>.<span class="stringliteral">&quot;index.php?resetPassword=true&amp;token=$token&quot;</span>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                        }</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                        $mailBody = <span class="stringliteral">&quot;$lang[HELLO] $username!\n\r$lang[PASSWORD_RESET_REQUESTED]\n\r$lang[PASSWORD_RESET_MAILBODY]\n\r&quot;</span>.$tokenLink.<span class="stringliteral">&quot;\n\r$lang[PASSWORD_RESET_REQUEST_WARNING].&quot;</span>;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                        <span class="keywordflow">if</span> (\<a class="code" href="namespaceYAWK.html">YAWK</a>\<a class="code" href="classYAWK_1_1email.html#a0eb15527f77ef40c505c8977af6c6285">email::sendEmail</a>($from, $to, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;$lang[PASSWORD_RESET] $url&quot;</span>, $mailBody) === <span class="keyword">true</span>)</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        {   <span class="comment">// reset password email sent</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                            \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 9, 0, <span class="stringliteral">&quot;reset password email requested from $username ($to)&quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                            $_SESSION[<span class="stringliteral">&#39;passwordFail&#39;</span>] = 0;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;                        }</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;                        {   <span class="comment">// FAILED to send password reset email</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                            <a class="code" href="classYAWK_1_1alert.html#acab73788f034d5acdb1b17acec7ab505">\YAWK\alert::draw</a>(<span class="stringliteral">&quot;warning&quot;</span>, <a class="code" href="admin_2includes_2filemanager_8php.html#aa5ed3346b5437107e83ab49e3e311acb">$lang</a>[<span class="stringliteral">&#39;ERROR&#39;</span>], <span class="stringliteral">&quot;$lang[EMAIL_NOT_SENT] &lt;br&gt;(from: $from)&lt;br&gt;(to: $to)&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 3800);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                            \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to send reset password email to $username ($to)&quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                        }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    }</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                    {   <span class="comment">// NOT VALID EMAIL ADDRESS (to:)</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                        <a class="code" href="classYAWK_1_1alert.html#acab73788f034d5acdb1b17acec7ab505">\YAWK\alert::draw</a>(<span class="stringliteral">&quot;warning&quot;</span>, <a class="code" href="admin_2includes_2filemanager_8php.html#aa5ed3346b5437107e83ab49e3e311acb">$lang</a>[<span class="stringliteral">&#39;ERROR&#39;</span>], <a class="code" href="admin_2includes_2filemanager_8php.html#aa5ed3346b5437107e83ab49e3e311acb">$lang</a>[<span class="stringliteral">&#39;EMAIL_ADD_INVALID&#39;</span>], <span class="stringliteral">&quot;&quot;</span>, 3800);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                        \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;invalid email address $to&quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                    }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                {   <span class="comment">// error: hash value could not be stored / updated in database</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to update hash value in database&quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    <a class="code" href="classYAWK_1_1alert.html#acab73788f034d5acdb1b17acec7ab505">\YAWK\alert::draw</a>(<span class="stringliteral">&quot;warning&quot;</span>, <span class="stringliteral">&quot;Hash Value&quot;</span>, <span class="stringliteral">&quot;could not be stored.&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 3800);</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                }</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;            }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        }</div>
<div class="ttc" id="aclassYAWK_1_1email_html_a0eb15527f77ef40c505c8977af6c6285"><div class="ttname"><a href="classYAWK_1_1email.html#a0eb15527f77ef40c505c8977af6c6285">YAWK\email\sendEmail</a></div><div class="ttdeci">static sendEmail($email_from, $email_to, $email_cc, $email_subject, $email_message)</div><div class="ttdoc">send an email</div><div class="ttdef"><b>Definition:</b> <a href="classes_2email_8php_source.html#l00031">email.php:31</a></div></div>
<div class="ttc" id="aclassYAWK_1_1sys_html_a8bbf939861d3a07415404170767d79d4"><div class="ttname"><a href="classYAWK_1_1sys.html#a8bbf939861d3a07415404170767d79d4">YAWK\sys\getHost</a></div><div class="ttdeci">static getHost($db)</div><div class="ttdoc">get hostname (url where yawk is installed) from database</div><div class="ttdef"><b>Definition:</b> <a href="sys_8php_source.html#l01121">sys.php:1121</a></div></div>
<div class="ttc" id="aclassYAWK_1_1user_html_a14ee3061545b0ccf8881aface6c2c8ee"><div class="ttname"><a href="classYAWK_1_1user.html#a14ee3061545b0ccf8881aface6c2c8ee">YAWK\user\$url</a></div><div class="ttdeci">$url</div><div class="ttdef"><b>Definition:</b> <a href="user_8php_source.html#l00049">user.php:49</a></div></div>
<div class="ttc" id="aclassYAWK_1_1user_html_a52c63d7dcb2f0339f6ed0d7d542cc25f"><div class="ttname"><a href="classYAWK_1_1user.html#a52c63d7dcb2f0339f6ed0d7d542cc25f">YAWK\user\getToken</a></div><div class="ttdeci">static getToken($length)</div><div class="ttdoc">Generate a safe token for password reset.</div><div class="ttdef"><b>Definition:</b> <a href="user_8php_source.html#l00099">user.php:99</a></div></div>
<div class="ttc" id="aclassYAWK_1_1user_html_aa124c00c69cc1cc9f43c2d9e9f0a8ca9"><div class="ttname"><a href="classYAWK_1_1user.html#aa124c00c69cc1cc9f43c2d9e9f0a8ca9">YAWK\user\getUserEmail</a></div><div class="ttdeci">static getUserEmail($db, $user)</div><div class="ttdoc">return email address of $user</div><div class="ttdef"><b>Definition:</b> <a href="user_8php_source.html#l01252">user.php:1252</a></div></div>
<div class="ttc" id="anamespaceYAWK_html"><div class="ttname"><a href="namespaceYAWK.html">YAWK</a></div><div class="ttdoc">This class serves methods to create backup from files.</div><div class="ttdef"><b>Definition:</b> <a href="AdminLTE_8php_source.html#l00002">AdminLTE.php:2</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, <a class="el" href="user_8php_source.html#l00047">YAWK\user\$email</a>, <a class="el" href="admin_2includes_2filemanager_8php_source.html#l00369">$lang</a>, <a class="el" href="settings-assets_8php_source.html#l00149">$res</a>, <a class="el" href="accept-friend_8php_source.html#l00013">$uid</a>, <a class="el" href="user_8php_source.html#l00049">YAWK\user\$url</a>, <a class="el" href="user_8php_source.html#l00021">YAWK\user\$username</a>, <a class="el" href="alert_8php_source.html#l00030">YAWK\alert\draw()</a>, <a class="el" href="sys_8php_source.html#l01121">YAWK\sys\getHost()</a>, <a class="el" href="system_2classes_2settings_8php_source.html#l00470">YAWK\settings\getSetting()</a>, <a class="el" href="user_8php_source.html#l00099">YAWK\user\getToken()</a>, <a class="el" href="user_8php_source.html#l01252">YAWK\user\getUserEmail()</a>, and <a class="el" href="classes_2email_8php_source.html#l00031">YAWK\email\sendEmail()</a>.</p>

</div>
</div>
<a id="a2e9d65cf697b7e88d202c4a7e2b42f8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9d65cf697b7e88d202c4a7e2b42f8e">&#9670;&nbsp;</a></span>setNewPassword()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static YAWK\user::setNewPassword </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$newPassword</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set a new user password. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$newPassword</td><td>The new password that will be stored in the database </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$uid</td><td>The affected user id </td></tr>
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database obj </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00187">187</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="comment">// check if new password is set and valid</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keywordflow">if</span> (isset($newPassword) &amp;&amp; (!empty($newPassword)) &amp;&amp; (is_string($newPassword)))</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            {   <span class="comment">// check if uid is set and valid</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                <span class="keywordflow">if</span> (isset(<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>) &amp;&amp; (!empty(<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>)) &amp;&amp; (is_numeric(<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>)))</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    <span class="comment">// hash password</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    $newPassword = md5($newPassword);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                    <span class="comment">// update database - change password</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;UPDATE {users} SET password = &#39;&quot;</span>.$newPassword.<span class="stringliteral">&quot;&#39; WHERE id = &#39;&quot;</span>.<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>.<span class="stringliteral">&quot;&#39;&quot;</span>))</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                    {   <span class="comment">// password changed successfully</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                        \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 9, 0, <span class="stringliteral">&quot;user $uid changed his password&quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    {   <span class="comment">// password cannot be changed</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                        \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to update password of user $uid &quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                {   <span class="comment">// uid not set or not valid</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;uid not set, empty or wrong datatype&quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            {   <span class="comment">// new password not set or not valid</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to update user password: new password not set, empty or not valid&quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, <a class="el" href="settings-assets_8php_source.html#l00149">$res</a>, and <a class="el" href="accept-friend_8php_source.html#l00013">$uid</a>.</p>

<p class="reference">Referenced by <a class="el" href="controller_8php_source.html#l00046">YAWK\controller\filterfilename()</a>.</p>

</div>
</div>
<a id="a31fddb85dfd3a641dc793757c06f4dcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31fddb85dfd3a641dc793757c06f4dcd">&#9670;&nbsp;</a></span>setUserTemplate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::setUserTemplate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$overrideTemplate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$userTemplateID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set status and override template for this user ID </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">object</td><td class="paramname">$db</td><td>database </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$overrideTemplate</td><td>0|1 1 if template could be overridden by this user </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$userTemplateID</td><td>the template ID you wish to set for this user </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$uid</td><td>user ID </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool </dd></dl>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00485">485</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>
<div class="fragment"><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        {   <span class="comment">/* @param $db \YAWK\db */</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">if</span> (!isset(<a class="code" href="classYAWK_1_1user.html#a5e7d444f5637e0a3334f016d7e2d961f">$overrideTemplate</a>) &amp;&amp; (!is_numeric(<a class="code" href="classYAWK_1_1user.html#a5e7d444f5637e0a3334f016d7e2d961f">$overrideTemplate</a>)))</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            {   <span class="comment">// wrong param</span></div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <span class="keywordflow">if</span> (!isset(<a class="code" href="template-overview_8php.html#a22e775a868fbe5a2271ac377246823bb">$userTemplateID</a>) &amp;&amp; (!is_numeric(<a class="code" href="template-overview_8php.html#a22e775a868fbe5a2271ac377246823bb">$userTemplateID</a>)))</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            {   <span class="comment">// wrong param</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;            }</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;            <span class="keywordflow">if</span> (!isset(<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>) &amp;&amp; (!is_numeric(<a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>)))</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            {   <span class="comment">// wrong param</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;            }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="settings-assets_8php.html#a49a8a4009b02e49717caa88b128affc5">$res</a> = <a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>-&gt;query(<span class="stringliteral">&quot;UPDATE {users} SET overrideTemplate = $overrideTemplate, templateID = $userTemplateID WHERE id = $uid&quot;</span>))</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;            {</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;            }</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                \YAWK\sys::setSyslog(<a class="code" href="dismiss-notifications_8php.html#a1fa3127fc82f96b1436d871ef02be319">$db</a>, 11, 1, <span class="stringliteral">&quot;failed to update user template override - template ID: $userTemplateID&quot;</span>, <a class="code" href="accept-friend_8php.html#ad38e469bfe9be207845cf932fa26e164">$uid</a>, 0, 0, 0);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div>
<div class="ttc" id="aclassYAWK_1_1user_html_a5e7d444f5637e0a3334f016d7e2d961f"><div class="ttname"><a href="classYAWK_1_1user.html#a5e7d444f5637e0a3334f016d7e2d961f">YAWK\user\$overrideTemplate</a></div><div class="ttdeci">$overrideTemplate</div><div class="ttdef"><b>Definition:</b> <a href="user_8php_source.html#l00077">user.php:77</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dismiss-notifications_8php_source.html#l00004">$db</a>, <a class="el" href="user_8php_source.html#l00077">YAWK\user\$overrideTemplate</a>, <a class="el" href="settings-assets_8php_source.html#l00149">$res</a>, <a class="el" href="accept-friend_8php_source.html#l00013">$uid</a>, and <a class="el" href="template-overview_8php_source.html#l00492">$userTemplateID</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5fae5124842219502e9e0a554aef34ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fae5124842219502e9e0a554aef34ac">&#9670;&nbsp;</a></span>$blocked</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$blocked</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>0|1 if 1, user is blocked and cannot login anymore </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00023">23</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a32ed2598d97dc6e04cf6b0df0ab0a2c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32ed2598d97dc6e04cf6b0df0ab0a2c5">&#9670;&nbsp;</a></span>$city</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$city</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>city </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00063">63</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a8545d5f8c122ff77581a9e1beb559f1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8545d5f8c122ff77581a9e1beb559f1f">&#9670;&nbsp;</a></span>$country</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$country</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>country </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00065">65</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a34110d07940f1e587c8600bfbca24478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34110d07940f1e587c8600bfbca24478">&#9670;&nbsp;</a></span>$currentuser</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$currentuser</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>current user name </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00019">19</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="ac3e8c01e7e5407a80b8de02eee86ae12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3e8c01e7e5407a80b8de02eee86ae12">&#9670;&nbsp;</a></span>$date_changed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$date_changed</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>datetime when user has changed </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00039">39</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a5f856ec145fd57835671e6e9f0557797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f856ec145fd57835671e6e9f0557797">&#9670;&nbsp;</a></span>$date_created</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$date_created</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>datetime when user was created </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00037">37</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="ad9ecf64be931e93fc18f7c99c81c851d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ecf64be931e93fc18f7c99c81c851d">&#9670;&nbsp;</a></span>$date_expired</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$date_expired</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>datetime when user account is about to expire </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00043">43</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a0cc0f98abf7181b8e8a386df01be41f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cc0f98abf7181b8e8a386df01be41f5">&#9670;&nbsp;</a></span>$date_lastlogin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$date_lastlogin</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>datetime when user has last logged in </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00041">41</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a1c3a41c863e63885c55d51ba5f13de6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c3a41c863e63885c55d51ba5f13de6e">&#9670;&nbsp;</a></span>$email</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$email</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>user email address </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00047">47</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="user_8php_source.html#l02119">YAWK\user\getUserList()</a>, and <a class="el" href="user_8php_source.html#l00230">YAWK\user\sendResetEmail()</a>.</p>

</div>
</div>
<a id="a9a62f1850675079afd7874c79f75a191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a62f1850675079afd7874c79f75a191">&#9670;&nbsp;</a></span>$facebook</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$facebook</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>user facebook url </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00053">53</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="af36334491a12b521a1e39b844d07bbab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af36334491a12b521a1e39b844d07bbab">&#9670;&nbsp;</a></span>$firstname</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$firstname</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>user firstname </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00055">55</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="ac8ae35fd315a351023a2a030e3d0934e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ae35fd315a351023a2a030e3d0934e">&#9670;&nbsp;</a></span>$gid</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$gid</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>group ID </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00033">33</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="aa9902ccd6af2c7c939d4688718fa0bf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9902ccd6af2c7c939d4688718fa0bf9">&#9670;&nbsp;</a></span>$id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$id</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>user ID </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00025">25</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="ad34a8dd122bf6d2dacfd800ca0ad669b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad34a8dd122bf6d2dacfd800ca0ad669b">&#9670;&nbsp;</a></span>$job</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$job</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>job description - can held any string </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00067">67</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="ace917496eb471789571de0851285721b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace917496eb471789571de0851285721b">&#9670;&nbsp;</a></span>$lastlogin</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$lastlogin</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>datetime when user has last logged in </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00069">69</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a5e68b5e0f814e5320725dfcdeaa0f377"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e68b5e0f814e5320725dfcdeaa0f377">&#9670;&nbsp;</a></span>$lastname</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$lastname</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>user lastname </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00057">57</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="adc34819a9dfd6b51b2f3b7a568497c7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc34819a9dfd6b51b2f3b7a568497c7d">&#9670;&nbsp;</a></span>$likes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$likes</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>how many likes the user has achieved </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00075">75</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="ac66ba34172bfe0ad984eb57e9a2ad7f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac66ba34172bfe0ad984eb57e9a2ad7f5">&#9670;&nbsp;</a></span>$logged_in</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$logged_in</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>0|1 user is currently logged in - or at least: not logged out </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00073">73</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a9fe27476da738719b2715c7ae8bd0e20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fe27476da738719b2715c7ae8bd0e20">&#9670;&nbsp;</a></span>$login_count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$login_count</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>how many times the user have logged in </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00045">45</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a7946a9645d6413d4e1daccdc1f47a5f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7946a9645d6413d4e1daccdc1f47a5f7">&#9670;&nbsp;</a></span>$online</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$online</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>0|1 if 1, user is currently online (or at least: not logged out) </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00031">31</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a5e7d444f5637e0a3334f016d7e2d961f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e7d444f5637e0a3334f016d7e2d961f">&#9670;&nbsp;</a></span>$overrideTemplate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$overrideTemplate</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>override the current template ID </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00077">77</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="user_8php_source.html#l00485">YAWK\user\setUserTemplate()</a>.</p>

</div>
</div>
<a id="aa739df93ee95fa1dff3809166683aadf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa739df93ee95fa1dff3809166683aadf">&#9670;&nbsp;</a></span>$password</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$password</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>user password </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00035">35</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="user_8php_source.html#l01626">YAWK\user\ajaxLogin()</a>, <a class="el" href="user_8php_source.html#l01992">YAWK\user\drawLoginBox()</a>, and <a class="el" href="user_8php_source.html#l02011">YAWK\user\drawMenuLoginBox()</a>.</p>

</div>
</div>
<a id="ada835db108f1a8023923445d90bc667f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada835db108f1a8023923445d90bc667f">&#9670;&nbsp;</a></span>$privacy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$privacy</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>0|1 if 1, user privacy needs to be respected </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00029">29</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a6cd509a0aeecaff1d803655697b24bc7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cd509a0aeecaff1d803655697b24bc7">&#9670;&nbsp;</a></span>$public_email</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$public_email</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>0|1 1 means the email is public and can be shown on the website </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00071">71</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="acf8f42913a8d9e1e5ce922036332c5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf8f42913a8d9e1e5ce922036332c5b0">&#9670;&nbsp;</a></span>$published</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$published</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>0|1 if 1, user is published (active) </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00027">27</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a5d561ebb66080aa51bc8efd5b41a53c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d561ebb66080aa51bc8efd5b41a53c2">&#9670;&nbsp;</a></span>$street</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$street</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>street </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00059">59</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="ad68dcbfa6cf230b3ff5bf15538f09f2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad68dcbfa6cf230b3ff5bf15538f09f2b">&#9670;&nbsp;</a></span>$templateID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$templateID</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">int</td><td>current template ID </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00079">79</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="abb9bc92be8a35ab0e650d9d902bf4564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb9bc92be8a35ab0e650d9d902bf4564">&#9670;&nbsp;</a></span>$twitter</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$twitter</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>user twitter url </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00051">51</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<a id="a14ee3061545b0ccf8881aface6c2c8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14ee3061545b0ccf8881aface6c2c8ee">&#9670;&nbsp;</a></span>$url</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$url</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>user URL </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00049">49</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="user_8php_source.html#l00230">YAWK\user\sendResetEmail()</a>.</p>

</div>
</div>
<a id="a86882c86ac632cdabde2813efc5d6f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86882c86ac632cdabde2813efc5d6f2f">&#9670;&nbsp;</a></span>$username</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$username</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>username </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00021">21</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

<p class="reference">Referenced by <a class="el" href="user_8php_source.html#l02119">YAWK\user\getUserList()</a>, and <a class="el" href="user_8php_source.html#l00230">YAWK\user\sendResetEmail()</a>.</p>

</div>
</div>
<a id="ae7fe3f41da7806854a7f68b477e22182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7fe3f41da7806854a7f68b477e22182">&#9670;&nbsp;</a></span>$zipcode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">YAWK\user::$zipcode</td>
        </tr>
      </table>
</div><div class="memdoc">
<ul>
<li><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">string</td><td>zip code </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="user_8php_source.html#l00061">61</a> of file <a class="el" href="user_8php_source.html">user.php</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/var/www/htdocs/yawk.io/system/classes/<a class="el" href="user_8php_source.html">user.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceYAWK.html">YAWK</a></li><li class="navelem"><a class="el" href="classYAWK_1_1user.html">user</a></li>
    <li class="footer">Generated on Sat Mar 25 2023 16:13:37 for YaWK by <small>doxygen 1.9.1</small></li>
  </ul>
</div>
</body>
</html>
